<?xml version='1.0' encoding='UTF-8'?>
<build>
  <actions>
    <hudson.model.CauseAction>
      <causeBag class="linked-hash-map">
        <entry>
          <hudson.model.Cause_-UserIdCause>
            <userId>rickliu</userId>
          </hudson.model.Cause_-UserIdCause>
          <int>1</int>
        </entry>
      </causeBag>
    </hudson.model.CauseAction>
    <jenkins.metrics.impl.TimeInQueueAction plugin="metrics@3.1.2.9">
      <queuingDurationMillis>4</queuingDurationMillis>
    </jenkins.metrics.impl.TimeInQueueAction>
    <org.jenkinsci.plugins.envinject.EnvInjectPluginAction plugin="envinject@2.1"/>
    <hudson.plugins.promoted__builds.PromotedBuildAction plugin="promoted-builds@2.28.1">
      <owner class="build" reference="../../.."/>
      <statuses/>
    </hudson.plugins.promoted__builds.PromotedBuildAction>
    <org.jvnet.hudson.plugins.groovypostbuild.GroovyPostbuildSummaryAction plugin="groovy-postbuild@2.3.1">
      <iconPath>terminal.gif</iconPath>
      <textBuilder>&lt;h1&gt;Build Node: jenkins-slave09&lt;/h1&gt;</textBuilder>
    </org.jvnet.hudson.plugins.groovypostbuild.GroovyPostbuildSummaryAction>
    <hudson.model.ParametersAction>
      <safeParameters class="sorted-set"/>
      <parameters>
        <hudson.model.BooleanParameterValue>
          <name>AUTO_APPROVE</name>
          <value>true</value>
        </hudson.model.BooleanParameterValue>
        <hudson.model.StringParameterValue>
          <name>REQUESTER</name>
          <value>Rick Liu (rickliu)</value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>REQUESTER_FULLNAME</name>
          <value>Rick Liu</value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>REQUESTER_USERNAME</name>
          <value>rickliu</value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>DEV_LEAD_FULLNAME</name>
          <value>Rick Liu</value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>DEV_LEAD_USERNAME</name>
          <value>rickliu</value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>PM_LEAD_FULLNAME</name>
          <value></value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>PM_LEAD_USERNAME</name>
          <value></value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>EMAIL_LIST</name>
          <value>rickliu@fortinet.com, kyu@fortinet.com</value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>BUILD_PROMOTION_URL</name>
          <value>https://jenkins.corp.fortinet.com/job/Test/job/Request_Branch_Permission_Change/98/promotion</value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>CURRENT_PERMISSION</name>
          <value>[[Username:Andrew Adrian (aadrian), Permission:R], [Username:David Shieh (dshieh), Permission:R], [Username:Kevin Yu (kevinyu), Permission:R], [Username:Rick Liu (rickliu), Permission:RW]]</value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>CURRENT_PERMISSION_JSON</name>
          <value>[{&quot;Username&quot;:&quot;Andrew Adrian (aadrian)&quot;,&quot;Permission&quot;:&quot;R&quot;},{&quot;Username&quot;:&quot;David Shieh (dshieh)&quot;,&quot;Permission&quot;:&quot;R&quot;},{&quot;Username&quot;:&quot;Kevin Yu (kevinyu)&quot;,&quot;Permission&quot;:&quot;R&quot;},{&quot;Username&quot;:&quot;Rick Liu (rickliu)&quot;,&quot;Permission&quot;:&quot;RW&quot;}]</value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>CURRENT_PERMISSION_EMAIL_TABLE_TEXT</name>
          <value>&lt;call&gt;
  &lt;table border=&apos;1&apos;&gt;
    &lt;tr&gt;
      &lt;td width=&apos;300&apos;&gt;Andrew Adrian (aadrian)&lt;/td&gt;
      &lt;td width=&apos;60&apos;&gt;R&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td width=&apos;300&apos;&gt;David Shieh (dshieh)&lt;/td&gt;
      &lt;td width=&apos;60&apos;&gt;R&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td width=&apos;300&apos;&gt;Kevin Yu (kevinyu)&lt;/td&gt;
      &lt;td width=&apos;60&apos;&gt;R&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td width=&apos;300&apos;&gt;Rick Liu (rickliu)&lt;/td&gt;
      &lt;td width=&apos;60&apos;&gt;RW&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/call&gt;</value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>PERMISSION_CHANGE</name>
          <value>[[Permission:RW, Username:Kevin Yu (kyu)]]</value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>PERMISSION_CHANGE_EMAIL_TABLE_TEXT</name>
          <value>&lt;call&gt;
  &lt;table border=&apos;1&apos;&gt;
    &lt;tr&gt;
      &lt;td width=&apos;300&apos;&gt;Kevin Yu (kyu)&lt;/td&gt;
      &lt;td width=&apos;60&apos;&gt;RW&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/table&gt;
&lt;/call&gt;</value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>PROJECT</name>
          <description></description>
          <value>Test v6.00</value>
        </hudson.model.StringParameterValue>
        <hudson.model.StringParameterValue>
          <name>BRANCH</name>
          <description></description>
          <value>br_6-0_devops-test01</value>
        </hudson.model.StringParameterValue>
        <com.cwctravel.hudson.plugins.extended__choice__parameter.ExtendedChoiceParameterValue plugin="extended-choice-parameter@0.76">
          <name>PERMISSION_CHANGE_JSON</name>
          <value>[{&quot;Permission&quot;:&quot;RW&quot;,&quot;Username&quot;:&quot;Kevin Yu (kyu)&quot;}]</value>
        </com.cwctravel.hudson.plugins.extended__choice__parameter.ExtendedChoiceParameterValue>
      </parameters>
      <parameterDefinitionNames class="hudson.model.ParametersDefinitionProperty$1">
        <outer-class>
          <parameterDefinitions>
            <org.biouno.unochoice.ChoiceParameter plugin="uno-choice@1.4">
              <name>PROJECT</name>
              <description></description>
              <randomName>choice-parameter-1742676398102059</randomName>
              <visibleItemCount>122</visibleItemCount>
              <script class="org.biouno.unochoice.model.GroovyScript">
                <script>import groovy.sql.Sql
def String query = &quot;&quot;&quot;
SELECT DISTINCT p.name
FROM projects p, branches b, branches_projects bp
WHERE p.id = bp.project_id AND b.id = bp.branch_id AND b.kind = &apos;special&apos;
ORDER BY p.name
&quot;&quot;&quot;
result = [&apos;&apos;] + sql.rows(query).name
sql.close()
return result
</script>
                <fallbackScript>return [ &quot;error&quot; ]</fallbackScript>
              </script>
              <projectName>Request_Branch_Permission_Change</projectName>
              <choiceType>PT_SINGLE_SELECT</choiceType>
              <filterable>true</filterable>
            </org.biouno.unochoice.ChoiceParameter>
            <org.biouno.unochoice.CascadeChoiceParameter plugin="uno-choice@1.4">
              <name>BRANCH</name>
              <description></description>
              <randomName>choice-parameter-1742676398847207</randomName>
              <visibleItemCount>1</visibleItemCount>
              <script class="org.biouno.unochoice.model.GroovyScript">
                <script>import groovy.sql.Sql
def String query = &quot;&quot;&quot;
SELECT b.name
FROM projects p, branches b, branches_projects bp
WHERE p.id = bp.project_id AND p.name = &apos;${PROJECT}&apos;
AND b.id = bp.branch_id AND b.kind = &apos;special&apos;
ORDER BY b.name
&quot;&quot;&quot;

if (PROJECT) {
    result = [&apos;&apos;] + sql.rows(query).name
    sql.close()
    return result
} else {
    return [&quot;N/A&quot;]
}
</script>
                <fallbackScript>return [ &quot;error&quot; ]</fallbackScript>
              </script>
              <projectName>Request_Branch_Permission_Change</projectName>
              <parameters class="linked-hash-map">
                <entry>
                  <string>PROJECT</string>
                  <string>Test v6.00</string>
                </entry>
              </parameters>
              <referencedParameters>PROJECT</referencedParameters>
              <choiceType>PT_SINGLE_SELECT</choiceType>
              <filterable>true</filterable>
            </org.biouno.unochoice.CascadeChoiceParameter>
            <org.biouno.unochoice.DynamicReferenceParameter plugin="uno-choice@1.4">
              <name>CURRENT_PERMISSION</name>
              <description></description>
              <randomName>choice-parameter-3032966210883868</randomName>
              <visibleItemCount>1</visibleItemCount>
              <script class="org.biouno.unochoice.model.GroovyScript">
                <script>import groovy.sql.Sql
def String query = &quot;&quot;&quot;
SELECT m.name, m.fullname, ar.can_read, ar.can_write
FROM branches b, paths p, access_rights ar, members m, projects pro, branches_projects bp
WHERE b.path_id = p.id
AND ar.path_id = p.id
AND m.id = ar.member_id
AND bp.branch_id = b.id AND bp.project_id = pro.id
AND m.type = &apos;User&apos; AND b.name = &apos;${BRANCH}&apos; AND pro.name = &apos;${PROJECT}&apos;
ORDER BY m.name
&quot;&quot;&quot;

if (PROJECT &amp;&amp; BRANCH){    
    def access = &quot;&quot;
    def output = []
    sql.eachRow(query){ row -&gt;
	//row[0]: fullname
	//row[1]: username
	//row[2]: read
	//row[3]: write
	if (row[2] == true &amp;&amp; row[3] == true)
		access = &quot;R/W&quot;
	else if(row[2] == false &amp;&amp; row[3] == true)
		access = &quot;W&quot;
	else if(row[2] == true &amp;&amp; row[3] == false)
		access = &quot;R&quot;
	else if(row[2] == false &amp;&amp; row[3] == false)
		access = &quot;None&quot;
	else
		access = &quot;WRONG DATA&quot;
    output.push(row[1] + &quot; (&quot; + row[0] + &quot;)&quot; + &quot; - &quot; + access)
    }
    sql.close()
    return output
} else {
    return [&apos;N/A&apos;]
}
</script>
                <fallbackScript>return [&apos;error&apos;]</fallbackScript>
              </script>
              <projectName>Request_Branch_Permission_Change</projectName>
              <parameters class="linked-hash-map">
                <entry>
                  <string>jenkinsProject</string>
                  <hudson.model.FreeStyleProject>
                    <actions/>
                    <description></description>
                    <keepDependencies>false</keepDependencies>
                    <properties>
                      <hudson.plugins.buildblocker.BuildBlockerProperty plugin="build-blocker-plugin@1.7.3">
                        <useBuildBlocker>false</useBuildBlocker>
                        <blockLevel>GLOBAL</blockLevel>
                        <scanQueueFor>DISABLED</scanQueueFor>
                        <blockingJobs></blockingJobs>
                      </hudson.plugins.buildblocker.BuildBlockerProperty>
                      <jenkins.model.BuildDiscarderProperty>
                        <strategy class="hudson.tasks.LogRotator">
                          <daysToKeep>-1</daysToKeep>
                          <numToKeep>5</numToKeep>
                          <artifactDaysToKeep>-1</artifactDaysToKeep>
                          <artifactNumToKeep>-1</artifactNumToKeep>
                        </strategy>
                      </jenkins.model.BuildDiscarderProperty>
                      <com.sonyericsson.jenkins.plugins.bfa.model.ScannerJobProperty plugin="build-failure-analyzer@1.19.0">
                        <doNotScan>false</doNotScan>
                      </com.sonyericsson.jenkins.plugins.bfa.model.ScannerJobProperty>
                      <org.bstick12.jenkinsci.plugins.leastload.LeastLoadDisabledProperty plugin="leastload@1.0.3">
                        <leastLoadDisabled>false</leastLoadDisabled>
                      </org.bstick12.jenkinsci.plugins.leastload.LeastLoadDisabledProperty>
                      <hudson.plugins.promoted__builds.JobPropertyImpl plugin="promoted-builds@2.28.1">
                        <activeProcessNames>
                          <string>Update_Permission</string>
                        </activeProcessNames>
                      </hudson.plugins.promoted__builds.JobPropertyImpl>
                      <com.sonyericsson.rebuild.RebuildSettings plugin="rebuild@1.25">
                        <autoRebuild>false</autoRebuild>
                        <rebuildDisabled>false</rebuildDisabled>
                      </com.sonyericsson.rebuild.RebuildSettings>
                      <hudson.model.ParametersDefinitionProperty reference="../../../../../../.."/>
                      <hudson.plugins.throttleconcurrents.ThrottleJobProperty plugin="throttle-concurrents@1.9.0">
                        <maxConcurrentPerNode>0</maxConcurrentPerNode>
                        <maxConcurrentTotal>0</maxConcurrentTotal>
                        <categories class="java.util.concurrent.CopyOnWriteArrayList"/>
                        <throttleEnabled>false</throttleEnabled>
                        <throttleOption>project</throttleOption>
                        <limitOneJobWithMatchingParams>false</limitOneJobWithMatchingParams>
                        <paramsToUseForLimit></paramsToUseForLimit>
                      </hudson.plugins.throttleconcurrents.ThrottleJobProperty>
                      <jenkins.advancedqueue.jobinclusion.strategy.JobInclusionJobProperty plugin="PrioritySorter@3.5.0">
                        <useJobGroup>false</useJobGroup>
                        <jobGroupName>Priority1 (Run-Exclusive)</jobGroupName>
                      </jenkins.advancedqueue.jobinclusion.strategy.JobInclusionJobProperty>
                    </properties>
                    <scm class="hudson.scm.NullSCM"/>
                    <canRoam>true</canRoam>
                    <disabled>false</disabled>
                    <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
                    <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
                    <triggers/>
                    <concurrentBuild>false</concurrentBuild>
                    <builders>
                      <hudson.plugins.groovy.SystemGroovy plugin="groovy@2.0">
                        <source class="hudson.plugins.groovy.StringSystemScriptSource">
                          <script plugin="script-security@1.27">
                            <script>import hudson.model.*
import groovy.json.JsonSlurper
import groovy.json.JsonOutput
import groovy.xml.MarkupBuilder
import groovy.sql.Sql

println &quot;&quot;&quot;
########################
# System Groovy: start #
########################
&quot;&quot;&quot;
/***************************
 Retreive console &apos;out&apos; object
****************************/
def binding = getBinding()
def bindingVariables = new HashMap()
bindingVariables.putAll(binding.getVariables())
//def out = bindingVariables[&apos;out&apos;]
//println &quot;binding.getVariables() output:&quot;
//bindingVariables.keySet().sort().each{
//  println &quot;${it}=${bindingVariables[it]}&quot;
//}

/*******************************
 Retreive current build instance
********************************/
//def build = Thread.currentThread().getCurrentExecutable()
println &quot;&quot;&quot;
Retreive build instance:
build=${build}
&quot;&quot;&quot;

/*******************************
 Retreive environment variables
********************************/
def buildEnvVars = new HashMap()
//buildEnvVars.putAll(build.getEnvVars())
buildEnvVars.putAll(build.getEnvironment(listener))
println &quot;build.getEnvironment(listener) Output:&quot;
buildEnvVars.keySet().sort().each{
  println &quot;${it}=${buildEnvVars[it]}&quot;
}
println &quot;&quot;

def BUILD_NUMBER = buildEnvVars[&quot;BUILD_NUMBER&quot;]
def NODE_NAME    = buildEnvVars[&quot;NODE_NAME&quot;]
def BUILD_URL    = buildEnvVars[&apos;BUILD_URL&apos;]
def PROJECT      = buildEnvVars[&quot;PROJECT&quot;]
def BRANCH       = buildEnvVars[&quot;BRANCH&quot;]
def EMAIL_LIST   = []
def AUTO_APPROVE = false
def BUILD_PROMOTION_URL = BUILD_URL + &quot;promotion&quot;

def PERMISSION_CHANGE_JSON  = buildEnvVars[&quot;PERMISSION_CHANGE_JSON&quot;]
def slurper = new groovy.json.JsonSlurper()
def PERMISSION_CHANGE = slurper.parseText(PERMISSION_CHANGE_JSON)
println &quot;&quot;&quot;
Jenkins input parameters:
BUILD_NUMBER=${BUILD_NUMBER}
NODE_NAME=${NODE_NAME}
BUILD_URL=${BUILD_URL}
BUILD_PROMOTION_URL=${BUILD_PROMOTION_URL}
PROJECT=${PROJECT}
BRANCH=${BRANCH}
EMAIL_LIST=${EMAIL_LIST}
AUTO_APPROVE=${AUTO_APPROVE}
PERMISSION_CHANGE=${PERMISSION_CHANGE}
PERMISSION_CHANGE_JSON=${PERMISSION_CHANGE_JSON}
&quot;&quot;&quot;

/*********************************
 Retreive build requester username
**********************************/
def REQUESTER = &quot;&quot;
def REQUESTER_USERNAME = &quot;&quot;
def REQUESTER_FULLNAME = &quot;&quot;
def cause = build.getCause(hudson.model.Cause);
if (cause instanceof hudson.triggers.TimerTrigger.TimerTriggerCause){
  // on TimerTrigger
  REQUESTER = &quot;Timer Trigger&quot;
} else if (cause instanceof hudson.triggers.SCMTrigger.SCMTriggerCause){
  // on SCM polling Trigger
  REQUESTER = &quot;SCM SVN Polling&quot;
} else if (cause instanceof hudson.model.Cause.UserIdCause){
  REQUESTER_FULLNAME = cause?.getUserName()
  REQUESTER_USERNAME = cause?.getUserId()
  REQUESTER =&quot;${REQUESTER_FULLNAME} (${REQUESTER_USERNAME})&quot;
} else if (cause instanceof hudson.model.Cause.UpstreamCause){
  // REQUESTER = cause?.getUpstreamCauses()[0].getUserName()
  REQUESTER = cause?.getUpstreamProject() + &apos;-build#&apos; + cause?.getUpstreamBuild()
}
println &quot;&quot;&quot;
Jenkins build cause:
cause=${cause}
cause.getclass()=${cause?.getClass()}
REQUESTER=${REQUESTER}
REQUESTER_USERNAME=${REQUESTER_USERNAME}
REQUESTER_FULLNAME=${REQUESTER_FULLNAME}
&quot;&quot;&quot;


/***********************************
 Set Jenkins 
 job displayname and job description
************************************/
def set_Job_DisplayName = &quot;#${BUILD_NUMBER} ${PROJECT} - ${BRANCH}&quot;
def set_Job_Description=&quot;Requested by - ${REQUESTER}&quot;
build.setDisplayName(&quot;${set_Job_DisplayName}&quot;)
build.setDescription(&quot;${set_Job_Description}&quot;)
println &quot;&quot;&quot;
System Groovy:
setDisplayName=${set_Job_DisplayName}
setDescription=${set_Job_Description}
&quot;&quot;&quot;


/***********************************
 Set Jenkins 
 job summary to show Jenkins slave node
************************************/
import org.jvnet.hudson.plugins.groovypostbuild.*
import org.jvnet.hudson.plugins.groovypostbuild.GroovyPostbuildSummaryAction
import org.jvnet.hudson.plugins.groovypostbuild.GroovyPostbuildAction

GroovyPostbuildSummaryAction action = new GroovyPostbuildSummaryAction(&quot;terminal.gif&quot;)
action.appendText(&quot;&lt;h1&gt;Build Node: ${NODE_NAME}&lt;/h1&gt;&quot;, false)
build.getActions().add(action)
println &quot;&quot;&quot;
System Groovy:
GroovyPostbuildSummaryAction.appendText
&quot;&quot;&quot;


/*********************************
 SQL queries:
 1. branch CURRENT_PERMISSION
 2. branch PM_LEAD and DEV_LEAD
**********************************/
println &quot;&quot;&quot;
##################################
# SQL queries:
# 1. branch CURRENT_PERMISSION
# 2. branch PM_LEAD and DEV_LEAD
##################################
&quot;&quot;&quot;
def String query

// 1. CURRENT_PERMISSION
query = &quot;&quot;&quot;
SELECT m.name, m.fullname, ar.can_read, ar.can_write
FROM branches b, paths p, access_rights ar, members m, projects proj, branches_projects bp
WHERE b.path_id = p.id
AND ar.path_id = p.id
AND m.id = ar.member_id
AND bp.branch_id = b.id AND bp.project_id = proj.id
AND m.type = &apos;User&apos; AND b.name = &apos;${BRANCH}&apos; AND proj.name = &apos;${PROJECT}&apos;
ORDER BY m.name
&quot;&quot;&quot;
def CURRENT_PERMISSION = []
sql.eachRow(query){ row -&gt;
  //row[0]: fullname
  //row[1]: username
  //row[2]: read
  //row[3]: write
  def access = &quot;&quot;
  if (row[2] == true &amp;&amp; row[3] == true)
    access = &quot;RW&quot;
  else if(row[2] == false &amp;&amp; row[3] == true)
    access = &quot;W&quot;
  else if(row[2] == true &amp;&amp; row[3] == false)
    access = &quot;R&quot;
  else if(row[2] == false &amp;&amp; row[3] == false)
    access = &quot;None&quot;
  else
    access = &quot;WRONG DATA&quot;
  CURRENT_PERMISSION.push([&apos;Username&apos;:row[1] + &quot; (&quot; + row[0] + &quot;)&quot;, &apos;Permission&apos;:access])
}
CURRENT_PERMISSION_JSON = JsonOutput.toJson(CURRENT_PERMISSION)
println &quot;&quot;&quot;
1. CURRENT_PERMISSION:
query=${query}
CURRENT_PERMISSION_JSON=${CURRENT_PERMISSION_JSON}
&quot;&quot;&quot;


// 2. Get branch PM_LEAD and DEV_LEAD
// reference: NULL and JOIN
// https://technet.microsoft.com/en-us/library/ms190409(v=sql.105).aspx
query = &quot;&quot;&quot;
SELECT 
b.dev_lead_id, m1.fullname AS dev_lead_fullname, m1.name AS dev_lead_username,
b.pm_lead_id,  m2.fullname AS pm_lead_fullname,  m2.name AS pm_lead_username
FROM branches b
JOIN branches_projects bp ON bp.branch_id = b.id
JOIN projects proj        ON proj.id = bp.project_id
JOIN paths p              ON p.id = b.path_id
JOIN members m1           ON m1.id = b.dev_lead_id
LEFT JOIN members m2      ON m2.id = b.pm_lead_id
WHERE b.name = &apos;br_6-0_devops-test01&apos; AND proj.name = &apos;Test v6.00&apos;
&quot;&quot;&quot;
def RESULT = sql.rows(query)
def RESULT_SIZE = RESULT.size()
def DEV_LEAD_FULLNAME = &apos;&apos;
def DEV_LEAD_USERNAME = &apos;&apos;
def PM_LEAD_FULLNAME = &apos;&apos;
def PM_LEAD_USERNAME = &apos;&apos;
if (RESULT_SIZE == 1){
  DEV_LEAD_FULLNAME = RESULT[0].dev_lead_fullname ? RESULT[0].dev_lead_fullname : &apos;&apos;
  DEV_LEAD_USERNAME = RESULT[0].dev_lead_username ? RESULT[0].dev_lead_username : &apos;&apos;
  PM_LEAD_FULLNAME  = RESULT[0].pm_lead_fullname  ? RESULT[0].pm_lead_fullname  : &apos;&apos;
  PM_LEAD_USERNAME  = RESULT[0].pm_lead_username  ? RESULT[0].pm_lead_username  : &apos;&apos;
  if (REQUESTER_USERNAME == DEV_LEAD_USERNAME) { AUTO_APPROVE = true }
  if (REQUESTER_USERNAME == PM_LEAD_USERNAME) { AUTO_APPROVE = true }
}
println &quot;&quot;&quot;
2. branch PM_LEAD and DEV_LEAD:
query=${query}
RESULT_SIZE=${RESULT_SIZE}
RESULT=${RESULT}
DEV_LEAD_FULLNAME=${DEV_LEAD_FULLNAME}
DEV_LEAD_USERNAME=${DEV_LEAD_USERNAME}
PM_LEAD_FULLNAME=${PM_LEAD_FULLNAME}
PM_LEAD_USERNAME=${PM_LEAD_USERNAME}
REQUESTER_USERNAME=${REQUESTER_USERNAME}
REQUESTER_FULLNAME=${REQUESTER_FULLNAME}
AUTO_APPROVE=${AUTO_APPROVE}
&quot;&quot;&quot;
sql.close()


/*********************************
  Generate EMAIL_LIST
**********************************/
if (DEV_LEAD_USERNAME) { EMAIL_LIST.add(&quot;${DEV_LEAD_USERNAME}@fortinet.com&quot;) }
if (PM_LEAD_USERNAME) { EMAIL_LIST.add(&quot;${PM_LEAD_USERNAME}@fortinet.com&quot;) }
PERMISSION_CHANGE.each { user -&gt;
  def username = user[&apos;Username&apos;].substring( user[&apos;Username&apos;].indexOf(&apos;(&apos;)+1, 
                                             user[&apos;Username&apos;].indexOf(&apos;)&apos;) 
                                           )
  EMAIL_LIST.add(&quot;${username}@fortinet.com&quot;)
}
println &quot;Before: EMAIL_LIST=${EMAIL_LIST}&quot;
Set EMAIL_LIST_SET = EMAIL_LIST
println &quot;EMAIL_LIST_SET=${EMAIL_LIST_SET}&quot;
EMAIL_LIST = EMAIL_LIST_SET
println &quot;After: EMAIL_LIST=${EMAIL_LIST}&quot;
println &quot;AUTO_APPROVE=${AUTO_APPROVE}&quot;


/*********************************
  Generate EMAIL text for:
  CURRENT_PERMISSION
  PERMISSION_CHANGE
**********************************/
def CURRENT_PERMISSION_WRITER = new StringWriter()
def CURRENT_PERMISSION_HTML   = new MarkupBuilder(CURRENT_PERMISSION_WRITER)
def PERMISSION_CHANGE_WRITER  = new StringWriter()
def PERMISSION_CHANGE_HTML    = new MarkupBuilder(PERMISSION_CHANGE_WRITER)
CURRENT_PERMISSION_HTML{
    table (border: 1) {
        CURRENT_PERMISSION.each{
            user -&gt;
            tr{
              td(width:300, user[&apos;Username&apos;])
              td(width:60,  user[&apos;Permission&apos;])
            }
        }
    }
}
PERMISSION_CHANGE_HTML{
    table (border: 1) {
        PERMISSION_CHANGE.each{
            user -&gt;
            tr{
              td(width:300, user[&apos;Username&apos;])
              td(width:60,  user[&apos;Permission&apos;])
            }
        }
    }
}
def CURRENT_PERMISSION_EMAIL_TABLE_TEXT = CURRENT_PERMISSION_WRITER.toString()
def PERMISSION_CHANGE_EMAIL_TABLE_TEXT = PERMISSION_CHANGE_WRITER.toString()
println &quot;&quot;&quot;
CURRENT_PERMISSION_EMAIL_TABLE_TEXT=
${CURRENT_PERMISSION_EMAIL_TABLE_TEXT}
##################################################
PERMISSION_CHANGE_EMAIL_TABLE_TEXT=
${PERMISSION_CHANGE_EMAIL_TABLE_TEXT}
&quot;&quot;&quot;

/*********************************
 Inject &quot;Global Environment Variables&quot;
**********************************/
def paramsList = []
//paramsList.add( new StringParameterValue(&quot;REQUESTER_FULLNAME&quot;, REQUESTER_FULLNAME) )
//paramsList.add( new StringParameterValue(&quot;REQUESTER_USERNAME&quot;, REQUESTER_USERNAME) )
paramsList.add( new BooleanParameterValue(&quot;AUTO_APPROVE&quot;, AUTO_APPROVE) )
paramsList.add( new StringParameterValue(&quot;REQUESTER&quot;, REQUESTER) )
paramsList.add( new StringParameterValue(&quot;REQUESTER_FULLNAME&quot;, REQUESTER_FULLNAME) )
paramsList.add( new StringParameterValue(&quot;REQUESTER_USERNAME&quot;, REQUESTER_USERNAME) )
paramsList.add( new StringParameterValue(&quot;DEV_LEAD_FULLNAME&quot;, DEV_LEAD_FULLNAME) )
paramsList.add( new StringParameterValue(&quot;DEV_LEAD_USERNAME&quot;, DEV_LEAD_USERNAME) )
paramsList.add( new StringParameterValue(&quot;PM_LEAD_FULLNAME&quot;, PM_LEAD_FULLNAME) )
paramsList.add( new StringParameterValue(&quot;PM_LEAD_USERNAME&quot;, PM_LEAD_USERNAME) )
paramsList.add( new StringParameterValue(&quot;EMAIL_LIST&quot;, EMAIL_LIST.join(&quot;, &quot;)))
paramsList.add( new StringParameterValue(&quot;BUILD_PROMOTION_URL&quot;, &quot;${BUILD_PROMOTION_URL}&quot;))
paramsList.add( new StringParameterValue(&quot;CURRENT_PERMISSION&quot;, CURRENT_PERMISSION.toString()) )
paramsList.add( new StringParameterValue(&quot;CURRENT_PERMISSION_JSON&quot;, CURRENT_PERMISSION_JSON.toString()) )
paramsList.add( new StringParameterValue(&quot;CURRENT_PERMISSION_EMAIL_TABLE_TEXT&quot;, CURRENT_PERMISSION_EMAIL_TABLE_TEXT.toString()) )
paramsList.add( new StringParameterValue(&quot;PERMISSION_CHANGE&quot;, PERMISSION_CHANGE.toString()) )
paramsList.add( new StringParameterValue(&quot;PERMISSION_CHANGE_EMAIL_TABLE_TEXT&quot;, PERMISSION_CHANGE_EMAIL_TABLE_TEXT.toString()) )

def newParams = null
def oldParams = build.getAction(ParametersAction.class)
if (oldParams != null) {
    newParams = oldParams.createUpdated(paramsList)
    build.actions.remove(oldParams)
} else {
    newParams = new ParametersAction(paramsList)
}

// add variable to current job
build.addAction(newParams)
println &quot;&quot;&quot;
##################################################
Inject Environment Variables:
##################################################
AUTO_APPROVE=${AUTO_APPROVE}
REQUESTER=${REQUESTER}
REQUESTER_FULLNAME=${REQUESTER_FULLNAME}
REQUESTER_USERNAME=${REQUESTER_USERNAME}
DEV_LEAD_FULLNAME=${DEV_LEAD_FULLNAME}
DEV_LEAD_USERNAME=${DEV_LEAD_USERNAME}
PM_LEAD_FULLNAME=${PM_LEAD_FULLNAME}
PM_LEAD_USERNAME=${PM_LEAD_USERNAME}
EMAIL_LIST=${EMAIL_LIST}
BUILD_PROMOTION_URL=${BUILD_PROMOTION_URL}
##################################################
CURRENT_PERMISSION=${CURRENT_PERMISSION}
CURRENT_PERMISSION_JSON=${CURRENT_PERMISSION_JSON}
PERMISSION_CHANGE=${PERMISSION_CHANGE}
PERMISSION_CHANGE_JSON=${PERMISSION_CHANGE}
##################################################
CURRENT_PERMISSION_EMAIL_TABLE_TEXT=
${CURRENT_PERMISSION_EMAIL_TABLE_TEXT}
PERMISSION_CHANGE_EMAIL_TABLE_TEXT=
${PERMISSION_CHANGE_EMAIL_TABLE_TEXT}
##################################################
&quot;&quot;&quot;


println &quot;&quot;&quot;
######################
# System Groovy: end #
######################
&quot;&quot;&quot;</script>
                            <sandbox>false</sandbox>
                          </script>
                        </source>
                      </hudson.plugins.groovy.SystemGroovy>
                    </builders>
                    <publishers>
                      <org.jvnet.hudson.plugins.groovypostbuild.GroovyPostbuildRecorder plugin="groovy-postbuild@2.3.1">
                        <script plugin="script-security@1.27">
                          <script>import hudson.model.*
import groovy.xml.MarkupBuilder
import groovy.json.JsonSlurper
import groovy.sql.Sql

manager.listener.logger.println(&quot;&quot;&quot;
###########################
# Groovy Postbuild: start #
###########################
&quot;&quot;&quot;)

def PROJECT      = manager.getEnvVariable(&quot;PROJECT&quot;)
def BRANCH       = manager.getEnvVariable(&quot;BRANCH&quot;)
def BUILD_PROMOTION_URL      = manager.getEnvVariable(&quot;BUILD_PROMOTION_URL&quot;)
def CURRENT_PERMISSION_JSON  = manager.getEnvVariable(&quot;CURRENT_PERMISSION_JSON&quot;)
def PERMISSION_CHANGE_JSON   = manager.getEnvVariable(&quot;PERMISSION_CHANGE_JSON&quot;)

def slurper = new groovy.json.JsonSlurper()
def CURRENT_PERMISSION = slurper.parseText(CURRENT_PERMISSION_JSON)
def PERMISSION_CHANGE  = slurper.parseText(PERMISSION_CHANGE_JSON)

manager.listener.logger.println(&quot;&quot;&quot;
PROJECT=${PROJECT}
BRANCH=${BRANCH}
BUILD_PROMOTION_URL=${BUILD_PROMOTION_URL}
CURRENT_PERMISSION_JSON=${CURRENT_PERMISSION_JSON}
PERMISSION_CHANGE_JSON=${PERMISSION_CHANGE_JSON}
CURRENT_PERMISSION=${CURRENT_PERMISSION}
PERMISSION_CHANGE=${PERMISSION_CHANGE}
&quot;&quot;&quot;)




def writer = new StringWriter()
def html = new MarkupBuilder(writer)
html.html {
    head {
        style(type:&quot;text/css&quot;, &apos;&apos;&apos;
            table {
            border-collapse: collapse;
        }
        td {
            font-size: 15px;
            padding: 5px;
        }
        &apos;&apos;&apos;)
    }
    body(id: &apos;main&apos;) {
        h3 id: &apos;title&apos;, &apos;Permission change information&apos;
        //Table for showing new branch request information
        table (border: 1) {
            tr { 
                td(&apos;PROJECT&apos;) 
                td(PROJECT) 
            }
            tr { 
                td(&apos;BRANCH&apos;) 
                td(BRANCH) 
            }
            tr { 
                td(&apos;CURRENT_PERMISSION&apos;) 
                td{ 
                    table (border: 1) {
                        CURRENT_PERMISSION.each{
                            user -&gt;
                            tr{
                              td(width:300, user[&apos;Username&apos;])
                              td(width:60,  user[&apos;Permission&apos;])
                            }
                        }
                    }
                }
            }
            tr { 
                td(&apos;PERMISSION_CHANGE&apos;) 
                td{ 
                    table (border: 1) {
                        PERMISSION_CHANGE.each{
                            user -&gt;
                            tr{
                              td(width:300, user[&apos;Username&apos;])
                              td(width:60,  user[&apos;Permission&apos;])
                            }
                        }
                    }
                }
            }
        }
        br()
        h3{ a(href: BUILD_PROMOTION_URL, &quot;Approval Status&quot;) }
    }
}

manager.build.setDescription(writer.toString())

manager.listener.logger.println(&quot;&quot;&quot;
#########################
# Groovy Postbuild: end #
#########################
&quot;&quot;&quot;)</script>
                          <sandbox>false</sandbox>
                        </script>
                        <behavior>0</behavior>
                        <runForMatrixParent>false</runForMatrixParent>
                      </org.jvnet.hudson.plugins.groovypostbuild.GroovyPostbuildRecorder>
                      <hudson.plugins.emailext.ExtendedEmailPublisher plugin="email-ext@2.57.2">
                        <recipientList>rickliu@fortinet.com</recipientList>
                        <configuredTriggers>
                          <hudson.plugins.emailext.plugins.trigger.FailureTrigger>
                            <email>
                              <subject>$PROJECT_DEFAULT_SUBJECT - ${BUILD_STATUS}</subject>
                              <body>&lt;p&gt;
Please make a new request again here!&lt;br&gt;
http://jenkins.corp.fortinet.com/job/Request_Branch/build?delay=0sec&lt;br&gt;
&lt;/p&gt;
&lt;br&gt;
$PROJECT_DEFAULT_CONTENT</body>
                              <recipientProviders>
                                <hudson.plugins.emailext.plugins.recipients.ListRecipientProvider/>
                                <hudson.plugins.emailext.plugins.recipients.RequesterRecipientProvider/>
                              </recipientProviders>
                              <attachmentsPattern></attachmentsPattern>
                              <attachBuildLog>true</attachBuildLog>
                              <compressBuildLog>false</compressBuildLog>
                              <replyTo>$PROJECT_DEFAULT_REPLYTO</replyTo>
                              <contentType>project</contentType>
                            </email>
                          </hudson.plugins.emailext.plugins.trigger.FailureTrigger>
                          <hudson.plugins.emailext.plugins.trigger.SuccessTrigger>
                            <email>
                              <subject>$PROJECT_DEFAULT_SUBJECT</subject>
                              <body>$PROJECT_DEFAULT_CONTENT</body>
                              <recipientProviders>
                                <hudson.plugins.emailext.plugins.recipients.ListRecipientProvider/>
                                <hudson.plugins.emailext.plugins.recipients.RequesterRecipientProvider/>
                              </recipientProviders>
                              <attachmentsPattern></attachmentsPattern>
                              <attachBuildLog>false</attachBuildLog>
                              <compressBuildLog>false</compressBuildLog>
                              <replyTo>$PROJECT_DEFAULT_REPLYTO</replyTo>
                              <contentType>project</contentType>
                            </email>
                          </hudson.plugins.emailext.plugins.trigger.SuccessTrigger>
                        </configuredTriggers>
                        <contentType>default</contentType>
                        <defaultSubject>Branch Permission Request - ${PROJECT}: &lt;${BRANCH}&gt; by ${REQUESTER}</defaultSubject>
                        <defaultContent>&lt;p&gt;Branch Permission Request - ${PROJECT}: &amp;lt;${BRANCH}&amp;gt; requested by: ${REQUESTER}&lt;/p&gt;

&lt;p&gt;Please visit &lt;a href=&quot;${BUILD_URL}&quot;&gt;here&lt;/a&gt; to approve this request. &lt;/p&gt;

&lt;p&gt;
    &lt;h3&gt;Branch information&lt;/h3&gt;
    &lt;table border=&apos;1&apos;&gt;
      &lt;tr&gt;&lt;td&gt;PROJECT&lt;/td&gt;&lt;td&gt;${PROJECT}&lt;/td&gt;&lt;/tr&gt;
      &lt;tr&gt;&lt;td&gt;BRANCH&lt;/td&gt;&lt;td&gt;${BRANCH}&lt;/td&gt;&lt;/tr&gt;
      &lt;tr&gt;&lt;td&gt;CURRENT_PERMISSION&lt;/td&gt;&lt;td&gt;${CURRENT_PERMISSION_EMAIL_TABLE_TEXT}&lt;/td&gt;&lt;/tr&gt;
      &lt;tr&gt;&lt;td&gt;PERMISSION_CHANGE&lt;/td&gt;&lt;td&gt;${PERMISSION_CHANGE_EMAIL_TABLE_TEXT}&lt;/td&gt;&lt;/tr&gt;
    &lt;/table&gt;
    &lt;br&gt;
    &lt;h3&gt;&lt;a href=&apos;${BUILD_PROMOTION_URL}&apos;&gt;Approval Status&lt;/a&gt;&lt;/he&gt;
&lt;/p&gt;</defaultContent>
                        <attachmentsPattern></attachmentsPattern>
                        <presendScript>$DEFAULT_PRESEND_SCRIPT</presendScript>
                        <postsendScript>$DEFAULT_POSTSEND_SCRIPT</postsendScript>
                        <attachBuildLog>false</attachBuildLog>
                        <compressBuildLog>false</compressBuildLog>
                        <replyTo>$DEFAULT_REPLYTO</replyTo>
                        <saveOutput>false</saveOutput>
                        <disabled>true</disabled>
                      </hudson.plugins.emailext.ExtendedEmailPublisher>
                    </publishers>
                    <buildWrappers>
                      <hudson.plugins.ws__cleanup.PreBuildCleanup plugin="ws-cleanup@0.33">
                        <deleteDirs>false</deleteDirs>
                        <cleanupParameter></cleanupParameter>
                        <externalDelete></externalDelete>
                      </hudson.plugins.ws__cleanup.PreBuildCleanup>
                      <hudson.plugins.timestamper.TimestamperBuildWrapper plugin="timestamper@1.8.8"/>
                    </buildWrappers>
                  </hudson.model.FreeStyleProject>
                </entry>
                <entry>
                  <string>PROJECT</string>
                  <string>Test v6.00</string>
                </entry>
                <entry>
                  <string>BRANCH</string>
                  <string>br_6-0_devops-test01</string>
                </entry>
              </parameters>
              <referencedParameters>PROJECT,BRANCH</referencedParameters>
              <choiceType>ET_UNORDERED_LIST</choiceType>
              <omitValueField>false</omitValueField>
            </org.biouno.unochoice.DynamicReferenceParameter>
            <com.cwctravel.hudson.plugins.extended__choice__parameter.ExtendedChoiceParameterDefinition plugin="extended-choice-parameter@0.76">
              <name>PERMISSION_CHANGE_JSON</name>
              <description>Update existing SVN permission</description>
              <quoteValue>false</quoteValue>
              <saveJSONParameterToFile>false</saveJSONParameterToFile>
              <visibleItemCount>5</visibleItemCount>
              <type>PT_JSON</type>
              <groovyScript>import org.boon.Boon;
import hudson.model.User
import groovy.sql.Sql

def String query = &quot;&quot;&quot;
SELECT name, fullname 
FROM members 
WHERE type = &apos;User&apos; 
ORDER BY name
&quot;&quot;&quot;

def JENKINS_USERLIST = sql.rows(query).collect{ row -&gt;
  &quot;${row.fullname} (${row.name})&quot;.toString()
}
sql.close()
JENKINS_USERLIST.sort()
// the json need explicit quotation &quot;&quot; for empty string in array
JENKINS_USERLIST = [&apos;&quot;&quot;&apos;] + JENKINS_USERLIST



def jsonEditorOptions = Boon.fromJson(/{
disable_edit_json: false,
disable_properties: false,
no_additional_properties: false,
disable_collapse: true,
disable_array_add: false,
disable_array_delete: false,
disable_array_reorder: true,
theme: &quot;bootstrap3&quot;,
iconlib:&quot;bootstrap3&quot;,

schema: {
&quot;title&quot;: &quot;Update SVN Permission:&quot;,
&quot;type&quot;: &quot;array&quot;,
&quot;format&quot;: &quot;table&quot;,
&quot;uniqueItems&quot;: true,
        &quot;items&quot;: {
                &quot;type&quot;: &quot;object&quot;,
                &quot;title&quot;: &quot;User&quot;,
                &quot;properties&quot;: {
                        &quot;Username&quot;: {
                                &quot;type&quot;: &quot;string&quot;,
                                &quot;propertyOrder&quot;: 1,
                                &quot;enum&quot;: ${JENKINS_USERLIST}
                        },
                        &quot;Permission&quot;: {
                                &quot;type&quot;: &quot;string&quot;,
                                &quot;propertyOrder&quot;: 2,
                                &quot;enum&quot;: [
                                        &quot;&quot;,
                                        &quot;R&quot;,
                                        &quot;RW&quot;,
                                        &quot;DEL&quot;
                                ]
                        }
                }
        }
},
startval: [  {&quot;Username&quot;: &quot;&quot;, &quot;Permission&quot;:&quot;&quot; } ]
}/);

return jsonEditorOptions;</groovyScript>
              <bindings></bindings>
              <groovyClasspath></groovyClasspath>
              <multiSelectDelimiter>,</multiSelectDelimiter>
              <projectName>Request_Branch_Permission_Change</projectName>
            </com.cwctravel.hudson.plugins.extended__choice__parameter.ExtendedChoiceParameterDefinition>
          </parameterDefinitions>
        </outer-class>
      </parameterDefinitionNames>
    </hudson.model.ParametersAction>
    <com.sonyericsson.rebuild.RebuildAction plugin="rebuild@1.25"/>
  </actions>
  <queueId>1084300</queueId>
  <timestamp>1518464795468</timestamp>
  <startTime>1518464795468</startTime>
  <result>SUCCESS</result>
  <description>&lt;html&gt;
  &lt;head&gt;
    &lt;style type=&apos;text/css&apos;&gt;
            table {
            border-collapse: collapse;
        }
        td {
            font-size: 15px;
            padding: 5px;
        }
        &lt;/style&gt;
  &lt;/head&gt;
  &lt;body id=&apos;main&apos;&gt;
    &lt;h3 id=&apos;title&apos;&gt;Permission change information&lt;/h3&gt;
    &lt;table border=&apos;1&apos;&gt;
      &lt;tr&gt;
        &lt;td&gt;PROJECT&lt;/td&gt;
        &lt;td&gt;Test v6.00&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;BRANCH&lt;/td&gt;
        &lt;td&gt;br_6-0_devops-test01&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;CURRENT_PERMISSION&lt;/td&gt;
        &lt;td&gt;
          &lt;table border=&apos;1&apos;&gt;
            &lt;tr&gt;
              &lt;td width=&apos;300&apos;&gt;Andrew Adrian (aadrian)&lt;/td&gt;
              &lt;td width=&apos;60&apos;&gt;R&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
              &lt;td width=&apos;300&apos;&gt;David Shieh (dshieh)&lt;/td&gt;
              &lt;td width=&apos;60&apos;&gt;R&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
              &lt;td width=&apos;300&apos;&gt;Kevin Yu (kevinyu)&lt;/td&gt;
              &lt;td width=&apos;60&apos;&gt;R&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr&gt;
              &lt;td width=&apos;300&apos;&gt;Rick Liu (rickliu)&lt;/td&gt;
              &lt;td width=&apos;60&apos;&gt;RW&lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;PERMISSION_CHANGE&lt;/td&gt;
        &lt;td&gt;
          &lt;table border=&apos;1&apos;&gt;
            &lt;tr&gt;
              &lt;td width=&apos;300&apos;&gt;Kevin Yu (kyu)&lt;/td&gt;
              &lt;td width=&apos;60&apos;&gt;RW&lt;/td&gt;
            &lt;/tr&gt;
          &lt;/table&gt;
        &lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
    &lt;br /&gt;
    &lt;h3&gt;
      &lt;a href=&apos;https://jenkins.corp.fortinet.com/job/Test/job/Request_Branch_Permission_Change/98/promotion&apos;&gt;Approval Status&lt;/a&gt;
    &lt;/h3&gt;
  &lt;/body&gt;
&lt;/html&gt;</description>
  <displayName>#98 Test v6.00 - br_6-0_devops-test01</displayName>
  <duration>379</duration>
  <charset>UTF-8</charset>
  <keepLog>false</keepLog>
  <builtOn>jenkins-slave09</builtOn>
  <workspace>/home/devops/jenkins_slave/workspace/Test/Request_Branch_Permission_Change</workspace>
  <hudsonVersion>2.46.2</hudsonVersion>
  <scm class="hudson.scm.NullChangeLogParser"/>
  <culprits class="com.google.common.collect.EmptyImmutableSortedSet"/>
</build>